import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { useState } from "react";

import Modal from "./Modal";

<Meta
  title="Modal"
  component={Modal}
  argTypes={{
    buttonRow: {
      control: {
        disable: true,
      },
    },
    children: {
      control: {
        disable: true,
      },
    },
  }}
/>

export const Template = (args) => {
  return (
    <div style={{ height: "100vh", position: "relative" }}>
      <Modal {...args} />
    </div>
  );
};

### Modal

This is a [React](https://reactjs.org/) component for the Vanilla [Modal](https://docs.vanillaframework.io/patterns/modal/).

The modal component can be used to overlay an area of the screen which can contain a prompt, dialog or interaction.

### Props

<ArgsTable of={Modal} />

<Canvas>
  <Story name="Default">
    {() => {
      const [modalOpen, setModalOpen] = useState(true);
      const closeHandler = () => setModalOpen(false);
      return (
        <>
          <button onClick={() => setModalOpen(true)}>Open modal</button>
          {modalOpen ? (
            <Modal
              close={closeHandler}
              title="Confirm delete"
              buttonRow={
                <>
                  <button
                    className="u-no-margin--bottom"
                    onClick={closeHandler}
                  >
                    Cancel
                  </button>
                  <button className="p-button--negative u-no-margin--bottom">
                    Delete
                  </button>
                </>
              }
            >
              <p>
                This will permanently delete the user "Simon".<br/>
                You cannot undo this action.
              </p>
            </Modal>
          ) : null}
        </>
      );
    }}
  </Story>
</Canvas>
