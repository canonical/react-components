import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { useState } from "react";

import ConfirmationButton from "./ConfirmationButton";
import Input from "../Input";

<Meta title="ConfirmationButton" component={ConfirmationButton} />

### ConfirmationButton

`ConfirmationButton` is a specialised version of the Vanilla [Button](https://docs.vanillaframework.io/patterns/buttons/) that prompts a confirmation from the user before executing some action.

### Props

<ArgsTable of={ConfirmationButton} />

export const doNothing = () => {};

### Default

<Canvas>
  <Story name="Default">
    <ConfirmationButton
      title="Confirm delete"
      buttonLabel="Delete"
      confirmButtonLabel="Delete"
      onConfirm={doNothing}
    >
      <p>
        Are you sure you want to delete user "Simon"?<br/>
        This action is permanent and can not be undone.
      </p>
    </ConfirmationButton>
  </Story>
</Canvas>

### Icon and label

<Canvas>
  <Story name="Icon and label">
    {() => {
      const [isLoading, setLoading] = useState(false);
      const brieflyLoad = () => {
        setLoading(true);
        setTimeout(() => setLoading(false), 2000);
      };
      return (
        <ConfirmationButton
          title="Confirm delete"
          buttonLabel="Delete"
          confirmButtonLabel="Delete"
          icon="delete"
          isLoading={isLoading}
          onConfirm={brieflyLoad}
          shiftClickEnabled
          showShiftClickHint
        >
          <p>
            Are you sure you want to delete user "Simon"?<br/>
            This action is permanent and can not be undone.
          </p>
        </ConfirmationButton>
      );
    }}
  </Story>
</Canvas>

### Icon only

<Canvas>
  <Story name="Icon only">
    {() => {
      const [isLoading, setLoading] = useState(false);
      const brieflyLoad = () => {
        setLoading(true);
        setTimeout(() => setLoading(false), 2000);
      };
      return (
        <ConfirmationButton
          title="Confirm delete"
          confirmButtonLabel="Delete"
          icon="delete"
          isLoading={isLoading}
          onConfirm={brieflyLoad}
          shiftClickEnabled
          showShiftClickHint
        >
          <p>
            Are you sure you want to delete user "Simon"?<br/>
            This action is permanent and can not be undone.
          </p>
        </ConfirmationButton>
      );
    }}
  </Story>
</Canvas>

### Base appearance

<Canvas>
  <Story name="Base appearance">
    {() => {
      const [isLoading, setLoading] = useState(false);
      const brieflyLoad = () => {
        setLoading(true);
        setTimeout(() => setLoading(false), 2000);
      };
      return (
        <ConfirmationButton
          appearance="base"
          title="Confirm delete"
          confirmButtonLabel="Delete"
          icon="delete"
          isLoading={isLoading}
          onConfirm={brieflyLoad}
          shiftClickEnabled
          showShiftClickHint
        >
          <p>
            Are you sure you want to delete user "Simon"?<br/>
            This action is permanent and can not be undone.
          </p>
        </ConfirmationButton>
      );
    }}
  </Story>
</Canvas>
