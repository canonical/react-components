import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";

import ContextualMenu from "./ContextualMenu";

<Meta
  title="ContextualMenu"
  component={ContextualMenu}
  argTypes={{
    children: {
      control: {
        disable: true,
      },
    },
    links: {
      control: {
        disable: true,
      },
    },
  }}
/>

export const Template = (args) => (
  <div className="u-align--center">
    <ContextualMenu {...args} />
  </div>
);

### Contextual Menu

This is a [React](https://reactjs.org/) component for the Vanilla [Contextual menu](https://docs.vanillaframework.io/patterns//contextual-menu/).

A contextual menu can be used in conjunction with any page element to provide a contextual menu.

### Props

<ArgsTable of={ContextualMenu} />

### Default

The contextual menu will provide a visual wrapper to any provided children. Visibility can be toggled via the `visible` prop.

<Canvas>
  <Story
    name="Default"
    args={{
      children: <span style={{ padding: "1rem" }}>This is a menu.</span>,
      closeOnOutsideClick: false,
      constrainPanelWidth: false,
      position: "left",
      visible: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Toggle

<Canvas>
  <Story
    name="Toggle"
    args={{
      links: [
        {
          children: "Link 1",
          onClick: () => {},
        },
        {
          children: "Link 2",
          onClick: () => {},
        },
      ],
      hasToggleIcon: true,
      position: "right",
      toggleLabel: "Click me!",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Child function

<Canvas>
  <Story
    name="Child function"
    args={{
      children: (close) => <Button onClick={close}>child function</Button>,
      hasToggleIcon: true,
      position: "right",
      toggleLabel: "Click me!",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Child element

<Canvas>
  <Story
    name="Child element"
    args={{
      children: <Button>child element</Button>,
      hasToggleIcon: true,
      position: "right",
      toggleLabel: "Click me!",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
